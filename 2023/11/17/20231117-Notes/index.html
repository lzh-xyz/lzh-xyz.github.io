<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>20231117_æŒ‡é’ˆï¼Œåœ°å€ï¼Œå­—ç¬¦ä¸²</title><meta name="description" content="May the Force be with you"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="å†™ä¸€ä¸‹CS50å­¦ä¹ è¿‡ç¨‹ä¸­å…³äºæŒ‡é’ˆå’Œåœ°å€éƒ¨åˆ†çš„ç¬”è®°å’Œå¿ƒå¾—ï¼Œå…¶å®å°±æ˜¯åœ¨ä¸‹é¢çš„æ³¨é‡Šéƒ¨åˆ†ï¼Œä½†æ˜¯è¿˜æ˜¯æ•´ç†ä¸€ä¸‹ã€‚
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;cs50.h&amp;gt;

int main(void)
{
    int n = 50;
    char *s = &quot;HI!&quot;;
    int *p = &amp;amp;n; // p æ˜¯ä¸€ä¸ª æŒ‡å‘intç±»å‹å˜é‡ çš„åœ°å€ çš„ æ•´æ•° 8 bytes
    // p ç”¨æ¥å­˜å‚¨åœ°å€
    printf(&quot;%i\n&quot;, n);
    printf(&quot;%p\n&quot;, p); // %p è·å–åœ°å€ &amp;amp;n
    // p å­˜å‚¨ nçš„ä½ç½® OR p æŒ‡å‘ nçš„ä½ç½®
    printf(&quot;%i\n&quot;, *p);
    // æ‰“å° pæ‰€.."><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Mostly_Harmlessçš„ç¢ç¢å¿µ" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Mostly_Hamrless's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">20231117_æŒ‡é’ˆï¼Œåœ°å€ï¼Œå­—ç¬¦ä¸²</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">ç‚¹å‡»è¿”å›é¡¶éƒ¨</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile is-hidden"></div><div class="column is-9"><header class="my-4"><a href="/tags/%E7%AC%94%E8%AE%B0"><i class="tag post-item-tag">ç¬”è®°</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">20231117_æŒ‡é’ˆï¼Œåœ°å€ï¼Œå­—ç¬¦ä¸²</h1><time class="has-text-grey" datetime="2023-11-17T00:19:16.000Z">2023-11-17</time><article class="mt-2 post-content"><p>å†™ä¸€ä¸‹CS50å­¦ä¹ è¿‡ç¨‹ä¸­å…³äºæŒ‡é’ˆå’Œåœ°å€éƒ¨åˆ†çš„ç¬”è®°å’Œå¿ƒå¾—ï¼Œå…¶å®å°±æ˜¯åœ¨ä¸‹é¢çš„æ³¨é‡Šéƒ¨åˆ†ï¼Œä½†æ˜¯è¿˜æ˜¯æ•´ç†ä¸€ä¸‹ã€‚</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;cs50.h&gt;

int main(void)
{
    int n = 50;
    char *s = "HI!";
    int *p = &amp;n; // p æ˜¯ä¸€ä¸ª æŒ‡å‘intç±»å‹å˜é‡ çš„åœ°å€ çš„ æ•´æ•° 8 bytes
    // p ç”¨æ¥å­˜å‚¨åœ°å€
    printf("%i\n", n);
    printf("%p\n", p); // %p è·å–åœ°å€ &amp;n
    // p å­˜å‚¨ nçš„ä½ç½® OR p æŒ‡å‘ nçš„ä½ç½®
    printf("%i\n", *p);
    // æ‰“å° pæ‰€æŒ‡å‘çš„é‚£ä¸ªä¸œè¥¿ï¼ŒDe-reference è§£å¼•ç”¨=
    printf("%p\n", s);
    printf("%s\n", s);
    // %s (String) ä¸ä»…ä»…æ˜¯æ‰“å°äº†ä¸ªå˜é‡å€¼ï¼Œæ›´æ˜¯æ ¹æ®ä½ æä¾›çš„åœ°å€æ‰¾åˆ°äº†TAï¼
    // è¿™å—ä¸€å®šè¦ç†è§£å¥½ï¼Œprintfä¸éœ€è¦æ‰¾åˆ°*s,ä»–åªéœ€è¦æ‰¾åˆ°sï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä½(s[0])å¼€å§‹çš„åœ°æ–¹ï¼Œç„¶åéå†åˆ°\0å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥
    // æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰å†™ *sï¼Œè€Œæ˜¯ç›´æ¥sã€‚å› ä¸º*så¯¹åº”çš„å°±æ˜¯s[0]è¿™ä¹ˆä¸€ä¸ªå•å­—æ¯äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™ä¸ª
    printf("%s\n", s + 1);
    // s + 1 å°±æ˜¯å°†èµ·å§‹ä½ç½®å‘åç§»åŠ¨äº†ä¸€ä½ï¼Œäºæ˜¯åªä¼šæ‰“å°å‡º â€œI!â€
    printf("%c %c\n", s[0], *(s + 0));
    // %c æ‰“å° *s çš„å­—ç¬¦ å°±æ˜¯ç›¸å½“äºs[0]ï¼Œå› ä¸ºsæŒ‡å‘çš„å°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²èµ·å§‹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯Hæ‰€åœ¨çš„ä½ç½®
    printf("%c %c\n", s[1], *(s + 1));
    printf("%c %c\n", s[2], *(s + 2));
    // å…¶å®ç±»ä¼¼äº s[i] çš„è¿™ç§ â€œè¯­æ³•ç³–â€ ï¼Œåœ¨ç¼–è¯‘æ—¶æ˜¯è¿™æ ·å¤„ç†çš„ï¼š
    // s[i] --&gt; *(s + i)
    // ä¸ç”¨åœ¨ä¹æ•°æ®ç±»å‹çš„é—®é¢˜ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ æ¢ç®—


    // æ‰€ä»¥è®©æˆ‘ä»¬åšç‚¹ç¦å¿Œçš„äº‹æƒ…
    // printf("%c\n", *(s + 20000));
    // Segmentation fault (core dumped)
    // è®¿é—®äº†ä¸è¯¥è®¿é—®çš„å†…å­˜

    // strcmp åšäº†ä¸ªä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ
    // æ¯”å¦‚ s, t æ˜¯ä¸¤ä¸ªstrings
    // æˆ‘ä»¬æ€ä¹ˆåˆ¤æ–­ä»–ä»¬æ˜¯å¦ç›¸ç­‰ï¼Ÿ
    // i form 1 to n åˆ¤æ–­ *(s + i) ?= *(t + i)
    // strcmp(s, t) å°±æ˜¯å¸®ä½ å¹²äº†è¿™ä¹ˆä»¶äº‹æƒ…
    // è‹¥æ˜¯ç›¸åŒçš„ï¼Œreturn 0;
    // è‹¥æ˜¯å­—å…¸åº s &gt; t, return 1;
    // è‹¥æ˜¯å­—å…¸åº s &lt; t, return -1;

    string m = get_string("m: ");
    string t = get_string("t: ");

    printf("%p\n", m);
    printf("%p\n", t);
}
</code></pre>
<p>å…¶å®æŒ‡é’ˆéƒ¨åˆ†çš„ä¸»è¦é—®é¢˜å°±æ˜¯Cè¯­è¨€å¯¹äº * è¿™ä¸ªç¬¦å·çš„â€œæ»¥ç”¨â€ã€‚</p>
<p>1.int *p = &amp;n;<br>æ­¤æ—¶*çš„ä½œç”¨æ˜¯<strong>å®šä¹‰æŒ‡é’ˆ</strong>ï¼Œp æ˜¯ä¸€ä¸ª<strong>æŒ‡å‘intç±»å‹å˜é‡çš„åœ°å€</strong>çš„<strong>æ•´æ•°</strong>ï¼Œå¤§å°ä¸º8 bytesã€‚</p>
<p>p å¯ä»¥ç†è§£ä¸ºå­˜å‚¨äº†<strong>nçš„ä½ç½®</strong>ï¼Œä½ çŸ¥é“pï¼Œä¹Ÿå°±èƒ½æ‰¾åˆ°nï¼Œå¹¶ä¸”nåœ¨å†…å­˜ä¸­çš„ä½ç½®æ˜¯ç¡®å®šçš„ï¼Œå°½ç®¡nçš„æ•°å€¼ä¼šæ”¹å˜ï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡æ‰€åœ¨çš„ä½ç½®æ˜¯åœ¨å…¶è¢«å®šä¹‰çš„é‚£ä¸ªæ—¶å€™å°±ç¡®å®šäº†ã€‚</p>
<p>2.printf(â€œ%i\nâ€, *p);<br>æ­¤æ—¶*çš„ä½œç”¨å°±æ˜¯<strong>De-reference è§£å¼•ç”¨æŒ‡é’ˆ</strong>ï¼Œå¯»æ‰¾åˆ°på¯¹åº”çš„é‚£ä¸ªâ€œä¸œè¥¿â€ã€‚</p>
<hr>
<p>å‰©ä¸‹çš„å°±æ˜¯ä¸€äº›ç»†ææœ«èŠ‚çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼š</p>
<p>%på°±æ˜¯æ‰“å°pæ‰€æŒ‡å‘çš„<strong>åœ°å€</strong><br>e.g:printf(â€œ%p\nâ€, p); è¾“å‡ºçš„å°±æ˜¯0x16b6c710cï¼Œä¹Ÿå°±æ˜¯næ‰€åœ¨çš„åœ°å€ã€‚</p>
<p>å¯¹äºå­—ç¬¦ä¸² (charæ•°ç»„) è€Œè¨€ï¼Œprintfä¸­çš„%sï¼Œä½ åªéœ€è¦æä¾›ä½ æƒ³è¦æ‰“å°çš„èµ·å§‹ä½ç½®ï¼Œprintfå‡½æ•°ä¼šè‡ªåŠ¨æ›¿ä½ å®Œæˆâ€œ<strong>å¾€ä¸‹èµ°ï¼Œç›´åˆ°\0</strong>â€çš„æ­¥éª¤ã€‚</p>
<p>e.g:</p>
<pre><code>char *s = "HI!";

printf("%p\n", s); // out:0x16ae1f108
printf("%s\n", s); // out:HI! 
printf("%s\n", s + 1); // out:I!
</code></pre>
<p>æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰å†™ *sï¼Œè€Œæ˜¯ç›´æ¥å†™sã€‚å› ä¸º*så¯¹åº”çš„å°±æ˜¯s[0]æ‰€å¯¹åº”çš„è¿™ä¹ˆä¸€ä¸ªå•å­—æ¯(H)äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™ä¸ªï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯èµ·å§‹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯èµ·å§‹çš„åœ°å€ã€‚</p>
<p>ç±»ä¼¼äº s[i] çš„è¿™ç§ â€œè¯­æ³•ç³–â€ ï¼Œåœ¨ç¼–è¯‘æ—¶æ˜¯è¿™æ ·å¤„ç†çš„ï¼š<strong>s[i] â€“&gt; *(s + i)</strong><br>ä¸ç”¨æ‹…å¿ƒï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ åšå¥½ä¸€åˆ‡ï¼Œè¿™ç±»è¯­æ³•ğŸ¬è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚</p>
<hr>
<p>æ¥ç‚¹<strong>ç¦å¿Œ</strong>çš„äº‹æƒ…</p>
<p>æ¯”å¦‚æˆ‘ä»¬å†™è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿</p>
<pre><code>printf("%c\n", *(s + 200000));
</code></pre>
<p>æˆ‘ä»¬æƒ³è®¿é—®ä¸€ä¸‹ så200000ä½å†…å­˜å­˜ç€äº›ä»€ä¹ˆï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™å°±æ˜¯**Segmentation fault (core dumped)**ï¼Œä½ è®¿é—®äº†ï¼ˆæˆ‘è®¿é—®äº†/è®¡ç®—æœºè®¿é—®äº†ï¼‰ä¸è¯¥è®¿é—®çš„å†…å­˜ã€‚</p>
<hr>
<p>æˆ‘ä»¬å†å›´ç»•å­—ç¬¦ä¸²å†™ä¸€ç‚¹ç‚¹ä¸œè¥¿ï¼Œæ¯”å¦‚<strong>strings.h</strong>åº“ä¸­çš„<strong>strcmp</strong>å‡½æ•°ï¼Œå®ƒçš„å®ç°åŸç†å°±æ˜¯ï¼šè¾“å…¥s, tä¸¤ä¸ªstringsã€‚ç„¶åå¼€å§‹åˆ¤æ–­ *(s + i) ?= *(t + i)ï¼Œå…¶ä¸­iä»0åˆ°néå†ã€‚</p>
<p>è‹¥æ˜¯ç›¸åŒçš„ï¼Œreturn 0;<br>è‹¥æ˜¯å­—å…¸åº s &gt; t, return 1;<br>è‹¥æ˜¯å­—å…¸åº s &lt; t, return -1;</p>
<p>Mostly_Harmless</p>
<p>å†™äº2023.11.16 ä¸‹åˆäºŒæ—¶</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2023/11/19/20231119-Sort/" title="20231119_æ’åºç®—æ³• Sort"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">ä¸Šä¸€é¡µ: 20231119_æ’åºç®—æ³• Sort</span></a><a class="button is-default" href="/2023/10/24/20231024-%E8%BF%91%E6%9C%9F%E8%AE%A1%E5%88%92/" title="20231024_è¿‘æœŸè®¡åˆ’"><span class="has-text-weight-semibold">ä¸‹ä¸€é¡µ: 20231024_è¿‘æœŸè®¡åˆ’</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/Claudia-theme-blog" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/Mostlyharmlessxyz"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- çŸ¥ä¹--><!-- é¢†è‹±--><!-- è„¸ä¹¦--></section><p><span>Copyright Â©</span><span> Mostly_Hamrless 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>